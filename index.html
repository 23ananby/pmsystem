<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Management System</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <nav class="header-nav">
                <span>Servicios</span>
                <span class="add-link" id="add-rental-button">Añadir</span>
            </nav>
            <div class="header-status">
                <span class="material-symbols-outlined app-icon" id="reset-app-button" title="Resetear Historial">apps</span>
                <img src="assets/credits-dev.jpg" alt="User Avatar" class="user-avatar">
            </div>
        </header>

        <main class="app-main">
            <section class="dashboard-grid">
                <div class="card card-capitalization glass-effect clickable-card" id="capitalization-card">
                    <div class="card-icon-bg bg-green">
                        <i class="fa-solid fa-dollar-sign" id="capitalization-icon"></i>
                    </div>
                    <span class="card-amount"><span class="symbol" id="capitalization-symbol">$</span><span id="capitalization-total">0.00</span></span>
                    <span class="card-label">Capitalización <span id="currency-indicator-cap">(USD)</span></span>
                </div>

                <div class="card card-maintenance glass-effect clickable-card" id="maintenance-card">
                    <div class="card-icon-bg bg-red">
                        <i class="fa-solid fa-arrow-down"></i>
                    </div>
                    <span class="card-amount"><span class="symbol" id="maintenance-symbol">$</span><span id="maintenance-total">0.00</span></span>
                    <span class="card-label">Mantenimiento</span>
                </div>

                <div class="card card-services glass-effect">
                    <div class="card-icon-group">
                       <div class="service-icon bg-yellow">
                           <i class="fa-solid fa-basketball"></i>
                       </div>
                       <div class="service-icon bg-blue">
                            <i class="fa-solid fa-futbol"></i>
                       </div>
                    </div>
                    <span class="card-main-value" id="services-count">0</span>
                    <span class="card-label-primary">Servicios</span>
                    <span class="card-label-secondary">Total Registrados</span>
                </div>

                <div class="card card-sport glass-effect">
                     <div class="card-icon-single bg-pink">
                        <i class="fa-solid fa-star"></i>
                    </div>
                    <span class="card-main-value large-percent" id="star-service-percentage">0<span class="symbol percent-sign">%</span></span>
                    <span class="card-label-primary" id="star-service-name">Deporte</span>
                    <span class="card-label-secondary">Servicio estrella</span>
                </div>
            </section>

            <section class="goal-card glass-effect clickable-card" id="goal-card">
                <div class="goal-header">
                    <i class="fa-solid fa-circle-check goal-icon" id="goal-icon"></i>
                    <span class="goal-title" id="goal-title">Meta</span>
                </div>
                <span class="goal-amount"><span class="symbol" id="goal-symbol">$</span><span id="goal-amount-display">0.00</span></span>
                <div class="goal-footer">
                    <span class="goal-subtitle" id="goal-subtitle">Establece una meta</span>
                    <span class="goal-year">Neto</span>
                </div>
                 <div class="progress-bar-container">
                    <div class="progress-bar" id="goal-progress-bar"></div>
                 </div>
            </section>

            <section class="filter-buttons">
                <button class="filter-btn btn-futbol" id="filter-futbol">Fútbol</button>
                <button class="filter-btn btn-basquetbol" id="filter-basquetbol">Básquetbol</button>
                <button class="filter-btn" id="filter-all">Mostrar Todos</button>
            </section>

            <section class="transaction-list" id="transaction-list-container">
            </section>
        </main>

        <footer class="app-footer">
            <p>© 2025 Andrés Business Corp. Property Management System. Apache 2.0 Licence.</p>
        </footer>
    </div>

    <button class="fab" id="show-prices-fab" title="Ver Precios">
        <i class="fa-solid fa-tags"></i>
    </button>

    <div id="pricing-modal" class="pricing-modal-overlay">
         <div class="pricing-modal-content">
            <button class="modal-close-button" id="close-pricing-modal" aria-label="Cerrar modal">×</button>

            <div class="price-card" data-base-price="12">
                <div class="price-card-inner">
                    <div class="price-card-duration">30<span>Min.</span></div>
                    <h3 class="price-card-title">Basic</h3>
                    <span class="price-card-amount"><span class="symbol price-symbol">$</span><span class="price-value">12.00</span></span>
                    <span class="price-card-info">IVA no incluído.</span>
                    <div class="price-card-divider"></div>
                    <div class="price-card-footer">
                        <span>© 2025 Andrés B. Corp.</span>
                        <span>GT.</span>
                    </div>
                </div>
            </div>

             <div class="price-card" data-base-price="18">
                <div class="price-card-inner">
                     <div class="price-card-duration">1<span>Hora</span></div>
                    <h3 class="price-card-title">Platinum</h3>
                    <span class="price-card-amount"><span class="symbol price-symbol">$</span><span class="price-value">18.00</span></span>
                    <span class="price-card-info">IVA no incluído.</span>
                     <div class="price-card-divider"></div>
                    <div class="price-card-footer">
                        <span>© 2025 Andrés B. Corp.</span>
                        <span>GT.</span>
                    </div>
                </div>
            </div>

             <div class="price-card" data-base-price="24">
                <div class="price-card-inner">
                     <div class="price-card-duration">1.30<span>h. Med.</span></div>
                    <h3 class="price-card-title">Premium</h3>
                    <span class="price-card-amount"><span class="symbol price-symbol">$</span><span class="price-value">24.00</span></span>
                    <span class="price-card-info">IVA no incluído.</span>
                     <div class="price-card-divider"></div>
                    <div class="price-card-footer">
                        <span>© 2025 Andrés B. Corp.</span>
                        <span>GT.</span>
                    </div>
                </div>
            </div>

             <div class="price-card" data-base-price="30">
                <div class="price-card-inner">
                     <div class="price-card-duration">2<span>Horas</span></div>
                    <h3 class="price-card-title">Gold</h3>
                    <span class="price-card-amount"><span class="symbol price-symbol">$</span><span class="price-value">30.00</span></span>
                    <span class="price-card-info">IVA no incluído.</span>
                     <div class="price-card-divider"></div>
                    <div class="price-card-footer">
                        <span>© 2025 Andrés B. Corp.</span>
                        <span>GT.</span>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div id="add-rental-modal" class="modal-overlay">
        <div class="modal-content glass-effect">
            <button class="modal-close-button" id="close-rental-modal" aria-label="Cerrar modal">×</button>
            <h2>Añadir Nuevo Alquiler</h2>
            <form id="add-rental-form">
                <div class="form-group">
                    <label for="customer-name">Nombre del Cliente:</label>
                    <input type="text" id="customer-name" required>
                </div>
                <div class="form-group">
                    <label for="rental-time">Tiempo:</label>
                    <select id="rental-time" required>
                        <option value="" disabled selected>Seleccione...</option>
                        <option value="0.5">30 min</option>
                        <option value="1">1 hora</option>
                        <option value="1.5">1 hora y media</option>
                        <option value="2">2 horas</option>
                    </select>
                </div>
                 <div class="form-group">
                    <label>Total:</label>
                    <span id="rental-total-display"><span class="symbol rental-symbol">$</span>0.00</span>
                </div>
                <div class="form-group">
                    <label for="payment-type">Tipo de Pago:</label>
                    <select id="payment-type" required>
                         <option value="" disabled selected>Seleccione...</option>
                        <option value="Tarjeta">Tarjeta</option>
                        <option value="Cash">Cash</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="court-number">Número de Cancha:</label>
                    <select id="court-number" required>
                         <option value="" disabled selected>Seleccione...</option>
                        <option value="1">No. 1</option>
                        <option value="2">No. 2</option>
                        <option value="3">No. 3</option>
                        <option value="4">No. 4</option>
                        <option value="5">No. 5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="sport-type">Deporte:</label>
                    <select id="sport-type" required>
                         <option value="" disabled selected>Seleccione...</option>
                        <option value="Fútbol">Fútbol</option>
                        <option value="Básquetbol">Básquetbol</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="start-datetime">Fecha y Hora de Inicio:</label>
                    <input type="datetime-local" id="start-datetime" required>
                </div>
                <button type="submit" class="form-submit-button">Registrar Alquiler</button>
            </form>
        </div>
    </div>

    <div id="add-maintenance-modal" class="modal-overlay">
        <div class="modal-content glass-effect">
            <button class="modal-close-button" id="close-maintenance-modal" aria-label="Cerrar modal">×</button>
            <h2>Añadir Gasto de Mantenimiento</h2>
            <form id="add-maintenance-form">
                <div class="form-group">
                    <label for="expense-description">Gasto:</label>
                    <input type="text" id="expense-description" placeholder="Ej: Limpieza, Reparación Red" required>
                </div>
                <div class="form-group">
                    <label for="expense-amount">Monto (<span class="symbol maintenance-input-symbol">$</span>):</label>
                    <input type="number" id="expense-amount" step="0.01" min="0.01" placeholder="0.00" required>
                </div>
                <button type="submit" class="form-submit-button">Registrar Gasto</button>
            </form>
        </div>
    </div>

    <div id="set-goal-modal" class="modal-overlay">
        <div class="modal-content glass-effect">
            <button class="modal-close-button" id="close-goal-modal" aria-label="Cerrar modal">×</button>
            <h2>Establecer Meta de Ganancia Neta</h2>
            <form id="set-goal-form">
                <div class="form-group">
                    <label for="goal-amount-input">Meta (<span class="symbol goal-input-symbol">$</span>):</label>
                    <input type="number" id="goal-amount-input" step="0.01" min="0" placeholder="0.00" required>
                </div>
                <button type="submit" class="form-submit-button">Establecer Meta</button>
            </form>
        </div>
    </div>

    <div id="reset-confirmation-modal" class="modal-overlay">
        <div class="modal-content glass-effect confirmation-modal">
             <button class="modal-close-button" id="close-reset-modal" aria-label="Cerrar modal">×</button>
            <h2>Confirmar Reset</h2>
            <p class="confirmation-message">¿Estás seguro de querer resetear todos los servicios, gastos y metas? Esta acción no se puede deshacer.</p>
            <div class="confirmation-buttons">
                <button id="confirm-reset-button" class="confirmation-button yes">Sí</button>
                <button id="cancel-reset-button" class="confirmation-button no">No</button>
            </div>
        </div>
    </div>

     <div id="currency-modal" class="modal-overlay">
        <div class="modal-content glass-effect confirmation-modal">
             <button class="modal-close-button" id="close-currency-modal" aria-label="Cerrar modal">×</button>
            <h2>Seleccionar Moneda</h2>
            <p class="confirmation-message">Elija la moneda en la que desea ver los montos.</p>
            <div class="confirmation-buttons">
                <button id="select-usd-button" class="confirmation-button currency-select-btn" data-currency="USD">USD ($)</button>
                <button id="select-gtq-button" class="confirmation-button currency-select-btn" data-currency="GTQ">GTQ (Q)</button>
            </div>
             <p id="exchange-rate-info" style="font-size: 0.8em; color: var(--text-secondary); margin-top: 15px;"></p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>